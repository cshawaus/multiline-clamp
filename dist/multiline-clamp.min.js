/*!
 * multiline-clamp v1.4.0
 * Â© 2018 by Chris Shaw
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["multiline-clamp"]=t():e["multiline-clamp"]=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r,i,o;i=[t,n(1)],void 0===(o="function"==typeof(r=function(e,t){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function e(r){var i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storeClampElement=null;var a=(0,t.mergeDefaultOptionsWithCustomOverrides)(o);this.options=a,this.targets=r instanceof window.NodeList?n(r):[r],this.targets.forEach(function(e){e.originalContent||(e.originalContent=i.getTargetContents(e)),a.tagsExpression instanceof window.RegExp&&(e.tags=e.originalContent.match(a.tagsExpression)||[]),i.clamp(e)}),(0,t.registerInstanceWithResizeHandler)(this)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"getTargetContents",value:function(e){var t=e.innerHTML,n=this.options.trimWhitespace;return n&&(t=n instanceof window.RegExp?t.replace(n,""):t.trim()),t}},{key:"clamp",value:function(e){var t=this.characterLength,n=e.originalContent,r=n;if(!(r.length<=t)){r=r.substring(0,t).trim();var i,o=this.findTagsInContent(e);o.length&&(r=this.clampFromKnownTags(o,r));for(var a=!1,s=(r=r.replace(/\s+$/g,"")).length;--s>=0&&!a;)(">"===(i=r[s])||/(\w|\d)/i.test(i))&&(r=r.substring(0,s+1),a=!0);e.innerHTML=r,e.appendChild(this.clampElement)}}},{key:"refreshClamp",value:function(){var e=this;this.targets.forEach(function(t){return e.clamp(t)})}},{key:"findTagsInContent",value:function(e){var t=[],n=e.originalContent,r=e.tags,i=n,o=0;return Object.keys(r).forEach(function(e){e=r[e];var a=i.indexOf(e);-1!==a&&(o=n.length-i.length,i=i.substr(a+e.length),t.push({closing:-1!==e.indexOf("</"),element:e,offset:o+a}))}),t}},{key:"clampFromKnownTags",value:function(e,t){var n=this.options.partialTags,r=t;return e.forEach(function(i,o){var a=i.element.length,s=t.substr(i.offset,a);if(a!==s.length){var l=e[o-1];switch(n){case"pull":r=r.substring(0,l.offset);break;case"pull-and-retain":if(i.closing){var c=(r=r.substring(0,i.offset)).substr(l.offset+l.element.length);r=r.substring(0,l.offset)+c}break;case"complete":default:i.closing&&(r=r.substring(0,i.offset)+i.element)}}}),r}},{key:"characterLength",get:function(){var e,t=this.options,n=t.clampSize,r=t.responsive,i=window.innerWidth;return r instanceof window.Object&&Object.keys(r).forEach(function(t){i<=t&&!e&&(e=r[t])}),e||n}},{key:"clampElement",get:function(){if(this.storedClampElement)return this.storedClampElement.cloneNode(!0);var e=this.options.clamp,t=e;return t instanceof window.HTMLElement||(t=document.createElement("span")).appendChild(document.createTextNode(e)),this.storedClampElement=t,t}}]),e}(),o=i;e.default=o,window.MultilineClamp=i})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(2)],void 0===(o="function"==typeof(r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerInstanceWithResizeHandler=function(e){var t=!1;i.forEach(function(n){n.target===e.target&&(t=!0)}),t||i.push(e),r||(window.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(function(){i.forEach(function(e){return e.refreshClamp()})},100)}),r=!0)},e.mergeDefaultOptionsWithCustomOverrides=function(e){var n=JSON.parse(JSON.stringify(t.default));if(n.tagsExpression=t.default.tagsExpression,("string"==typeof e.clamp||e.clamp instanceof window.HTMLElement)&&(n.clamp=e.clamp),e.clampSize&&!Number.isNaN(e.clampSize)&&(n.clampSize=e.clampSize),"string"==typeof e.partialTags&&/^complete|pull|pull-and-retain$/.test(e.partialTags)&&(n.partialTags=e.partialTags),!1!==e.responsive&&e.responsive instanceof window.Object){var r={},i=e.responsive;Object.keys(i).forEach(function(e){var t=i[e];Number.isNaN(t)?console.warn("The breakpoint for '".concat(e,"' contains an invalid value:"),t):r[e]=t}),n.responsive=Object.keys(r).length&&r||!1}return e.tagsExpression instanceof window.RegExp&&(n.tagsExpression=e.tagsExpression),e.trimWhitespace&&(e.trimWhitespace instanceof window.Boolean||e.trimWhitespace instanceof window.RegExp)&&(n.trimWhitespace=e.trimWhitespace),n},t=function(e){return e&&e.__esModule?e:{default:e}}(t);var n,r=!1,i=[]})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t],void 0===(o="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={clamp:"...",clampSize:72,partialTags:"complete",responsive:!1,tagsExpression:/<(.|\n)*?>/g,trimWhitespace:!0};e.default=t})?r.apply(t,i):r)||(e.exports=o)}])});
//# sourceMappingURL=multiline-clamp.min.map