/*!
 * multiline-clamp v1.0.3
 * Â© 2018 by Chris Shaw
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["multiline-clamp"]=t():e["multiline-clamp"]=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={clamp:"...",clampSize:72,responsive:!1,tagsExpression:/<(.|\n)*?>/g,trimWhitespace:!0};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerInstanceWithResizeHandler=function(e){var t=!1;s.forEach(function(n){n.target===e.target&&(t=!0)}),t||s.push(e);a||(window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(function(){s.forEach(function(e){return e.clamp()})},100)}),a=!0)},t.mergeDefaultOptionsWithCustomOverrides=function(e){var t=JSON.parse(JSON.stringify(r.default));t.tagsExpression=r.default.tagsExpression,("string"==typeof e.clamp||e.clamp instanceof window.HTMLElement)&&(t.clamp=e.clamp);e.clampSize&&!Number.isNaN(e.clampSize)&&(t.clampSize=e.clampSize);if(!1!==e.responsive&&e.responsive instanceof window.Object){var n={},i=e.responsive;Object.keys(i).forEach(function(e){var t=i[e];Number.isNaN(t)?console.warn("The breakpoint for '".concat(e,"' contains an invalid value:"),t):n[e]=t}),t.responsive=Object.keys(n).length&&n||!1}e.tagsExpression instanceof window.RegExp&&(t.tagsExpression=e.tagsExpression);e.trimWhitespace&&(e.trimWhitespace instanceof window.Boolean||e.trimWhitespace instanceof window.RegExp)&&(t.trimWhitespace=e.trimWhitespace);return t};var i,r=(i=n(0))&&i.__esModule?i:{default:i};var o,a=!1,s=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tags=[];var r=(0,i.mergeDefaultOptionsWithCustomOverrides)(n);this.options=r,this.target=t,this.originalContent=t.innerHTML;var o=this.targetContents;t.originalContent||(t.originalContent=o),r.tagsExpression instanceof window.RegExp&&(this.tags=o.match(r.tagsExpression)),this.clamp(),(0,i.registerInstanceWithResizeHandler)(this)}var t,n,o;return t=e,(n=[{key:"clamp",value:function(){var e=this.characterLength,t=this.originalContent,n=this.target,i=t;if(!(i.length<=e)){i=i.substring(0,e).trim();var r,o=this.findTagsInContent();o.length&&(i=this.clampFromKnownTags(o,i));for(var a=!1,s=(i=i.replace(/\s+$/g,"")).length;--s>=0&&!a;)(">"===(r=i[s])||/(\w|\d)/i.test(r))&&(i=i.substring(0,s+1),a=!0);n.innerHTML=i,n.appendChild(this.clampElement)}}},{key:"findTagsInContent",value:function(){var e=[],t=this.originalContent,n=this.tags,i=t,r=0;return Object.keys(n).forEach(function(o){o=n[o];var a=i.indexOf(o);-1!==a&&(r=t.length-i.length,i=i.substr(a+o.length),e.push({closing:-1!==o.indexOf("</"),name:o,offset:r+a}))}),e}},{key:"clampFromKnownTags",value:function(e,t){var n=t.length,i=!1;return e.forEach(function(r,o){if(!i){var a=r.name.length;if(a!==t.substr(r.offset,a).length)if(r.closing){var s=e[o-1];i=!0,n=s.offset}else n=r.offset}}),t.substring(0,n)}},{key:"targetContents",get:function(){var e=this.target.innerHTML,t=this.options.trimWhitespace;return t&&(e=t instanceof window.RegExp?e.replace(t,""):e.trim()),e}},{key:"characterLength",get:function(){var e,t=this.options.responsive,n=window.innerWidth;return t instanceof window.Object&&Object.keys(t).forEach(function(i){n<=i&&!e&&(e=t[i])}),e||this.options.clampSize}},{key:"clampElement",get:function(){var e=this.options.clamp;if(e instanceof window.HTMLElement)return e;var t=document.createElement("span");return t.appendChild(document.createTextNode(e)),t}}])&&r(t.prototype,n),o&&r(t,o),e}(),a=o;t.default=a,window.MultilineClamp=o}])});
//# sourceMappingURL=multiline-clamp.min.map